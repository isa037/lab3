LIBRARY ieee;
USE ieee.std_logic_1164.all;
USE ieee.numeric_std.all;

entity HAZARD_UNITY is
	MemRead_ID_EX: in std_logic;
	Rs1, Rs2: in std_logic_vector(4 downto 0);
	rd_ID_EX: in std_logic_vector(4 downto 0);
	IF_ID_write, PC_write: std_logic;
	NOP_sel: std_logic
end entity;

architecture beh of HAZARD_UNITY is

begin

	process(Rs1, Rs2, rd_ID_EX, MemRead_ID_EX)
	begin
		if (Rs1=rd_EX_MEM or Rs2=rd_EX_MEM) and  MemRead_ID_EX='1'
		then
			IF_ID_write<='0';
			PC_write<='0';
			NOP_sel<='0';
		else
			IF_ID_write<='1';
			PC_write<='1';
			NOP_sel<='1';
		end if;
	end process;

end beh;