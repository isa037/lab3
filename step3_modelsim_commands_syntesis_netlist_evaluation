#!/bin/bash
cd /home/isa37/git/lab3/sim/
source /software/scripts/init_msim6.2g
rm -r work
vlib work
vcom -93 -work ./work ../src/riscv_pkg.vhd
vcom -93 -work ./work ../src/DATA_MEMORY.vhd
vcom -93 -work ./work ../src/INSTRUCTION_MEMORY.vhd
vcom -93 -work ./work ../tb/tb_output_data_checker.vhd

#Assuming Testbench file is tb_fir.v 
#and testbench module is tb_fir
#Compile the verilog type:
vlog -work ./work ../netlist/myRiscv.v
vcom -93 -work ./work ../tb/tb_one.vhd

#link to Modelsim the compiled library of the cells
vsim -L /software/dk/nangate45/verilog/msim6.2g work.tb_one
#link the delay file
vsim -L /software/dk/nangate45/verilog/msim6.2g -sdftyp /tb_fir/UUT=../netlist/myRiscv.sdf work.tb_one
